import{b as u,n as P,o as D,s as A,_ as U,p as d,j as t,t as b,v as z,w as _,aj as Q,D as q,d as G,e as J,A as K}from"./index-Br3W-CJe.js";import{c as X,a as Y}from"./orderAction-CwEXeCV1.js";import{L as Z}from"./Loader-C83tTrIY.js";import{C as O}from"./Circle-BBEbk15o.js";import{f as T}from"./functions-wGAcNyKq.js";import{c as B}from"./createSvgIcon-CPjUyy1Y.js";import{M as ee}from"./MinCategory-Dq_xbLph.js";import{M as te}from"./MetaData-LX1NH3aX.js";import{u as oe}from"./useSelector-NGf-tHxd.js";import"./CircularProgress-Qlz96_pX.js";import"./createSvgIcon-7u55HdvA.js";import"./isMuiElement-CJt_OsMT.js";import"./useIsFocusVisible-CXnvPnDT.js";import"./ExpandMore-DQS_Sl5R.js";const k=u.createContext({}),F=u.createContext({});function ae(e){return P("MuiStep",e)}D("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const re=["active","children","className","component","completed","disabled","expanded","index","last"],ne=e=>{const{classes:o,orientation:r,alternativeLabel:a,completed:n}=e;return _({root:["root",r,a&&"alternativeLabel",n&&"completed"]},ae,o)},se=b("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.orientation],r.alternativeLabel&&o.alternativeLabel,r.completed&&o.completed]}})(({ownerState:e})=>d({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),le=u.forwardRef(function(o,r){const a=A({props:o,name:"MuiStep"}),{active:n,children:s,className:p,component:l="div",completed:i,disabled:x,expanded:m=!1,index:c,last:v}=a,y=U(a,re),{activeStep:j,connector:h,alternativeLabel:C,orientation:I,nonLinear:N}=u.useContext(k);let[f=!1,M=!1,S=!1]=[n,i,x];j===c?f=n!==void 0?n:!0:!N&&j>c?M=i!==void 0?i:!0:!N&&j<c&&(S=x!==void 0?x:!0);const w=u.useMemo(()=>({index:c,last:v,expanded:m,icon:c+1,active:f,completed:M,disabled:S}),[c,v,m,f,M,S]),g=d({},a,{active:f,orientation:I,alternativeLabel:C,completed:M,disabled:S,expanded:m,component:l}),R=ne(g),$=t.jsxs(se,d({as:l,className:z(R.root,p),ref:r,ownerState:g},y,{children:[h&&C&&c!==0?h:null,s]}));return t.jsx(F.Provider,{value:w,children:h&&!C&&c!==0?t.jsxs(u.Fragment,{children:[h,$]}):$})}),ie=B(t.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),ce=B(t.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function pe(e){return P("MuiStepIcon",e)}const W=D("MuiStepIcon",["root","active","completed","error","text"]);var V;const de=["active","className","completed","error","icon"],me=e=>{const{classes:o,active:r,completed:a,error:n}=e;return _({root:["root",r&&"active",a&&"completed",n&&"error"],text:["text"]},pe,o)},E=b(Q,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${W.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${W.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${W.error}`]:{color:(e.vars||e).palette.error.main}})),xe=b("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,o)=>o.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),ue=u.forwardRef(function(o,r){const a=A({props:o,name:"MuiStepIcon"}),{active:n=!1,className:s,completed:p=!1,error:l=!1,icon:i}=a,x=U(a,de),m=d({},a,{active:n,completed:p,error:l}),c=me(m);if(typeof i=="number"||typeof i=="string"){const v=z(s,c.root);return l?t.jsx(E,d({as:ce,className:v,ref:r,ownerState:m},x)):p?t.jsx(E,d({as:ie,className:v,ref:r,ownerState:m},x)):t.jsxs(E,d({className:v,ref:r,ownerState:m},x,{children:[V||(V=t.jsx("circle",{cx:"12",cy:"12",r:"12"})),t.jsx(xe,{className:c.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:m,children:i})]}))}return i});function ve(e){return P("MuiStepLabel",e)}const L=D("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),fe=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],be=e=>{const{classes:o,orientation:r,active:a,completed:n,error:s,disabled:p,alternativeLabel:l}=e;return _({root:["root",r,s&&"error",p&&"disabled",l&&"alternativeLabel"],label:["label",a&&"active",n&&"completed",s&&"error",p&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",a&&"active",n&&"completed",s&&"error",p&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},ve,o)},he=b("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.orientation]]}})(({ownerState:e})=>d({display:"flex",alignItems:"center",[`&.${L.alternativeLabel}`]:{flexDirection:"column"},[`&.${L.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),Se=b("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,o)=>o.label})(({theme:e})=>d({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${L.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${L.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${L.alternativeLabel}`]:{marginTop:16},[`&.${L.error}`]:{color:(e.vars||e).palette.error.main}})),ge=b("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,o)=>o.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${L.alternativeLabel}`]:{paddingRight:0}})),Le=b("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,o)=>o.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${L.alternativeLabel}`]:{textAlign:"center"}})),H=u.forwardRef(function(o,r){var a;const n=A({props:o,name:"MuiStepLabel"}),{children:s,className:p,componentsProps:l={},error:i=!1,icon:x,optional:m,slotProps:c={},StepIconComponent:v,StepIconProps:y}=n,j=U(n,fe),{alternativeLabel:h,orientation:C}=u.useContext(k),{active:I,disabled:N,completed:f,icon:M}=u.useContext(F),S=x||M;let w=v;S&&!w&&(w=ue);const g=d({},n,{active:I,alternativeLabel:h,completed:f,disabled:N,error:i,orientation:C}),R=be(g),$=(a=c.label)!=null?a:l.label;return t.jsxs(he,d({className:z(R.root,p),ref:r,ownerState:g},j,{children:[S||w?t.jsx(ge,{className:R.iconContainer,ownerState:g,children:t.jsx(w,d({completed:f,active:I,error:i,icon:S},y))}):null,t.jsxs(Le,{className:R.labelContainer,ownerState:g,children:[s?t.jsx(Se,d({ownerState:g},$,{className:z(R.label,$==null?void 0:$.className),children:s})):null,m]})]}))});H.muiName="StepLabel";function je(e){return P("MuiStepConnector",e)}D("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Ce=["className"],Ne=e=>{const{classes:o,orientation:r,alternativeLabel:a,active:n,completed:s,disabled:p}=e,l={root:["root",r,a&&"alternativeLabel",n&&"active",s&&"completed",p&&"disabled"],line:["line",`line${q(r)}`]};return _(l,je,o)},ye=b("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.orientation],r.alternativeLabel&&o.alternativeLabel,r.completed&&o.completed]}})(({ownerState:e})=>d({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),Ie=b("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.line,o[`line${q(r.orientation)}`]]}})(({ownerState:e,theme:o})=>{const r=o.palette.mode==="light"?o.palette.grey[400]:o.palette.grey[600];return d({display:"block",borderColor:o.vars?o.vars.palette.StepConnector.border:r},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),Me=u.forwardRef(function(o,r){const a=A({props:o,name:"MuiStepConnector"}),{className:n}=a,s=U(a,Ce),{alternativeLabel:p,orientation:l="horizontal"}=u.useContext(k),{active:i,disabled:x,completed:m}=u.useContext(F),c=d({},a,{alternativeLabel:p,orientation:l,active:i,completed:m,disabled:x}),v=Ne(c);return t.jsx(ye,d({className:z(v.root,n),ref:r,ownerState:c},s,{children:t.jsx(Ie,{className:v.line,ownerState:c})}))});function we(e){return P("MuiStepper",e)}D("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Re=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],$e=e=>{const{orientation:o,nonLinear:r,alternativeLabel:a,classes:n}=e;return _({root:["root",o,r&&"nonLinear",a&&"alternativeLabel"]},we,n)},ze=b("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.orientation],r.alternativeLabel&&o.alternativeLabel,r.nonLinear&&o.nonLinear]}})(({ownerState:e})=>d({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),Pe=t.jsx(Me,{}),De=u.forwardRef(function(o,r){const a=A({props:o,name:"MuiStepper"}),{activeStep:n=0,alternativeLabel:s=!1,children:p,className:l,component:i="div",connector:x=Pe,nonLinear:m=!1,orientation:c="horizontal"}=a,v=U(a,Re),y=d({},a,{nonLinear:m,alternativeLabel:s,orientation:c,component:i}),j=$e(y),h=u.Children.toArray(p).filter(Boolean),C=h.map((N,f)=>u.cloneElement(N,d({index:f,last:f+1===h.length},N.props))),I=u.useMemo(()=>({activeStep:n,alternativeLabel:s,connector:x,nonLinear:m,orientation:c}),[n,s,x,m,c]);return t.jsx(k.Provider,{value:I,children:t.jsx(ze,d({as:i,ownerState:y,className:z(j.root,l),ref:r},v,{children:C}))})}),Ae=({activeStep:e,orderOn:o,shippedAt:r,deliveredAt:a})=>{const n=[{status:"Ordered",dt:T(o)},{status:"Shipped",dt:T(r)},{status:"Delivered",dt:T(a)}],s=t.jsx("span",{className:"text-primary-green animate-pulse",children:t.jsx(O,{sx:{fontSize:"16px"}})}),p=t.jsx("span",{className:"text-gray-400",children:t.jsx(O,{sx:{fontSize:"16px"}})});return t.jsx(De,{activeStep:e,alternativeLabel:!0,children:n.map((l,i)=>t.jsx(le,{active:e===i,completed:e>=i,children:t.jsx(H,{icon:e>=i?s:p,children:e>=i?t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-primary-green font-medium",children:l.status}),l.dt!=="Invalid Date"&&t.jsx("span",{className:"text-primary-green font-medium",children:l.dt})]}):t.jsx("span",{className:"text-gray-400 font-medium",children:l.status})})},i))})},Je=()=>{const e=G(),{enqueueSnackbar:o}=J(),r=K(),{order:a,error:n,loading:s}=oe(p=>p.orderDetails);return u.useEffect(()=>{n&&(o(n,{variant:"error"}),e(X())),e(Y(r.id))},[e,n,r.id,o]),t.jsxs(t.Fragment,{children:[t.jsx(te,{title:"Order Details | Flipkart"}),t.jsx(ee,{}),t.jsx("main",{className:"w-full mt-14 sm:mt-4",children:s?t.jsx(Z,{}):t.jsx(t.Fragment,{children:a&&a.user&&a.shippingInfo&&t.jsxs("div",{className:"flex flex-col gap-4 max-w-6xl mx-auto",children:[t.jsx("div",{className:"flex bg-white shadow rounded-sm min-w-full",children:t.jsx("div",{className:"sm:w-1/2 border-r",children:t.jsxs("div",{className:"flex flex-col gap-3 my-8 mx-10",children:[t.jsx("h3",{className:"font-medium text-lg",children:"Delivery Address"}),t.jsx("h4",{className:"font-medium",children:a.user.name}),t.jsx("p",{className:"text-sm",children:`${a.shippingInfo.address}, ${a.shippingInfo.city}, ${a.shippingInfo.state} - ${a.shippingInfo.pincode}`}),t.jsxs("div",{className:"flex gap-2 text-sm",children:[t.jsx("p",{className:"font-medium",children:"Email"}),t.jsx("p",{children:a.user.email})]}),t.jsxs("div",{className:"flex gap-2 text-sm",children:[t.jsx("p",{className:"font-medium",children:"Phone Number"}),t.jsx("p",{children:a.shippingInfo.phoneNo})]})]})})}),a.orderItems&&a.orderItems.map(p=>{const{_id:l,image:i,name:x,price:m,quantity:c}=p;return t.jsxs("div",{className:"flex flex-col sm:flex-row min-w-full shadow rounded-sm bg-white px-2 py-5",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:w-1/2 gap-2",children:[t.jsx("div",{className:"w-full sm:w-32 h-20",children:t.jsx("img",{loading:"lazy",draggable:"false",className:"h-full w-full object-contain",src:i,alt:x})}),t.jsxs("div",{className:"flex flex-col gap-1 overflow-hidden",children:[t.jsx("p",{className:"text-sm",children:x.length>60?`${x.substring(0,60)}...`:x}),t.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Quantity: ",c]}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Price: ₹",m.toLocaleString()]}),t.jsxs("span",{className:"font-medium",children:["Total: ₹",(c*m).toLocaleString()]})]})]}),t.jsxs("div",{className:"flex flex-col w-full sm:w-1/2",children:[t.jsx("h3",{className:"font-medium sm:text-center",children:"Order Status"}),t.jsx(Ae,{orderOn:a.createdAt,shippedAt:a.shippedAt,deliveredAt:a.deliveredAt,activeStep:a.orderStatus==="Delivered"?2:a.orderStatus==="Shipped"?1:0})]})]},l)})]})})})]})};export{Je as default};
