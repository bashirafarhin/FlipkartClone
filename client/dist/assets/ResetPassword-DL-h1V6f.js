import{d as h,c as g,e as j,A as P,b as n,f as v,j as s,L as y,B as b}from"./index-MvMXq-n0.js";import{B as k}from"./BackdropLoader-lRnrjopn.js";import{M as S}from"./MetaData-9cgP_bKj.js";import{F}from"./FormSidebar-DrmGa_PG.js";import{T as d}from"./TextField-CrKy420b.js";import{u as D}from"./useSelector-SRzZOS-t.js";import"./CircularProgress-BPoi7den.js";import"./createSvgIcon-C4GUxbwI.js";import"./FormControl-qVIzL6n1.js";import"./index-ChNJcHXo.js";const U=()=>{const a=h(),c=g(),{enqueueSnackbar:t}=j(),u=P(),{error:o,success:m,loading:p}=D(e=>e.forgotPassword),[r,x]=n.useState(""),[i,f]=n.useState(""),w=e=>{if(e.preventDefault(),r.length<8){t("Password length must be atleast 8 characters",{variant:"warning"});return}if(r!==i){t("Password Doesn't Match",{variant:"error"});return}const l=new FormData;l.set("password",r),l.set("confirmPassword",i),a(b(u.token,l))};return n.useEffect(()=>{o&&(t(o,{variant:"error"}),a(v())),m&&(t("Password Updated Successfully",{variant:"success"}),c("/login"))},[a,o,m,c,t]),s.jsxs(s.Fragment,{children:[s.jsx(S,{title:"Password Reset | Flipkart"}),p&&s.jsx(k,{}),s.jsx("main",{class:"w-full mt-12 sm:pt-20 sm:mt-0",children:s.jsxs("div",{class:"flex sm:w-4/6 sm:mt-4 m-auto mb-7 bg-white shadow-lg",children:[s.jsx(F,{title:"Reset Password",tag:"Get access to your Orders, Wishlist and Recommendations"}),s.jsxs("div",{class:"flex-1 overflow-hidden",children:[s.jsx("h2",{className:"text-center text-2xl font-medium mt-6 text-gray-800",children:"Reset Password"}),s.jsxs("div",{class:"text-center py-10 px-4 sm:px-14",children:[s.jsx("form",{onSubmit:w,children:s.jsxs("div",{class:"flex flex-col w-full gap-4",children:[s.jsx(d,{fullWidth:!0,label:"New Password",type:"password",name:"newPassword",value:r,onChange:e=>x(e.target.value),required:!0}),s.jsx(d,{fullWidth:!0,label:"Confirm New Password",type:"password",name:"confirmPassword",value:i,onChange:e=>f(e.target.value),required:!0}),s.jsxs("div",{class:"flex flex-col gap-2.5 mt-2 mb-32",children:[s.jsxs("p",{class:"text-xs text-primary-grey text-left",children:["By continuing, you agree to Flipkart's ",s.jsx("a",{href:"https://www.flipkart.com/pages/terms",class:"text-primary-blue",children:" Terms of Use"})," and ",s.jsx("a",{href:"https://www.flipkart.com/pages/privacypolicy",class:"text-primary-blue",children:" Privacy Policy."})]}),s.jsx("button",{type:"submit",class:"text-white py-3 w-full bg-primary-orange shadow hover:shadow-lg rounded-sm font-medium",children:"Submit"})]})]})}),s.jsx(y,{to:"/register",class:"font-medium text-sm text-primary-blue",children:"New to Flipkart? Create an account"})]})]})]})})]})};export{U as default};
