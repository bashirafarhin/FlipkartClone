import{d as P,c as g,e as b,b as d,f as v,k as j,x as y,j as e,L as N,y as S}from"./index-BaBGcf6h.js";import{B as k}from"./BackdropLoader-_7FkJ6Ta.js";import{M as D}from"./MetaData-B8UWhWlB.js";import{F as E}from"./FormSidebar-BlljNVZL.js";import{T as i}from"./TextField-CxC_mZCU.js";import{u as U}from"./useSelector-CPCrgtAa.js";import"./CircularProgress-BoRCXypQ.js";import"./createSvgIcon-Bd0Qo9-2.js";import"./FormControl-CUgvVXfl.js";import"./isMuiElement-ChrkIa7o.js";import"./isHostComponent-DVu5iVWx.js";import"./index-C-88r63n.js";import"./List-B4PIK8yC.js";const z=()=>{const a=P(),m=g(),{enqueueSnackbar:t}=b(),{error:l,isUpdated:u,loading:p}=U(s=>s.profile),[c,w]=d.useState(""),[r,f]=d.useState(""),[n,x]=d.useState(""),h=s=>{if(s.preventDefault(),r.length<8){t("Password length must be atleast 8 characters",{variant:"warning"});return}if(r!==n){t("Password Doesn't Match",{variant:"error"});return}const o=new FormData;o.set("oldPassword",c),o.set("newPassword",r),o.set("confirmPassword",n),a(S(o))};return d.useEffect(()=>{l&&(t(l,{variant:"error"}),a(v())),u&&(t("Password Updated Successfully",{variant:"success"}),a(j()),m("/account"),a({type:y}))},[a,l,u,m,t]),e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Password Update | Flipkart"}),p&&e.jsx(k,{}),e.jsx("main",{className:"w-full mt-12 sm:pt-20 sm:mt-0",children:e.jsxs("div",{className:"flex sm:w-4/6 sm:mt-4 m-auto mb-7 bg-white shadow-lg",children:[e.jsx(E,{title:"Looks like you want to update password!",tag:"Enter your current and new password to update"}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx("h2",{className:"text-center text-2xl font-medium mt-6 text-gray-800",children:"Update Password"}),e.jsx("form",{onSubmit:h,className:"p-5 sm:p-14",children:e.jsxs("div",{className:"flex flex-col gap-4 items-start",children:[e.jsxs("div",{className:"flex flex-col w-full justify-between sm:flex-col gap-3 items-center",children:[e.jsx(i,{fullWidth:!0,label:"Current Password",type:"password",name:"oldPassword",value:c,onChange:s=>w(s.target.value),required:!0}),e.jsx(i,{fullWidth:!0,label:"New Password",type:"password",name:"newPassword",value:r,onChange:s=>f(s.target.value),required:!0}),e.jsx(i,{fullWidth:!0,label:"Confirm New Password",type:"password",name:"confirmPassword",value:n,onChange:s=>x(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"text-white py-3 w-full bg-primary-orange shadow hover:shadow-lg rounded-sm font-medium",children:"Update"}),e.jsx(N,{className:"hover:bg-gray-50 text-primary-blue text-center py-3 w-full shadow border rounded-sm font-medium mb-8",to:"/account",children:"Cancel"})]})})]})]})})]})};export{z as default};
