import{j as e,L as p,d as j,e as b,c as v,b as f}from"./index-MvMXq-n0.js";import{M as w}from"./MetaData-9cgP_bKj.js";import{r as N,C as y}from"./CartItem-C9f6SaDl.js";import{P as C}from"./PriceSidebar-aPHY00Eq.js";import{a as S}from"./cartAction-DfolnGH-.js";import{g as L}from"./functions-wGAcNyKq.js";import{u as i}from"./useSelector-SRzZOS-t.js";const k=()=>e.jsxs("div",{className:"flex items-center flex-col gap-2 m-6",children:[e.jsx("div",{className:"w-52 h-44",children:e.jsx("img",{draggable:"false",className:"w-full h-full object-contain",src:"https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png",alt:"Empty Cart"})}),e.jsx("span",{className:"text-lg",children:"Your cart is empty!"}),e.jsx("p",{className:"text-xs",children:"Add items to it now."}),e.jsx(p,{to:"/products",className:"bg-primary-blue text-sm text-white px-12 py-2 rounded-sm shadow mt-3",children:"Shop Now"})]}),F=({product:a,name:s,seller:l,price:r,cuttedPrice:m,image:t,stock:n,quantity:c})=>{const d=j(),{enqueueSnackbar:x}=b(),h=o=>{d(N(o)),x("Removed From Save For Later",{variant:"success"})},u=(o,g)=>{d(S(o,g)),h(o),x("Product Added To Cart",{variant:"success"})};return e.jsxs("div",{className:"flex flex-col gap-3 py-5 pl-2 sm:pl-6 border-b",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 items-stretch w-full",href:"#",children:[e.jsx("div",{className:"w-full sm:w-1/6 h-28 flex-shrink-0",children:e.jsx("img",{draggable:"false",className:"h-full w-full object-contain",src:t,alt:s})}),e.jsxs("div",{className:"flex flex-col gap-1 sm:gap-5 w-full p-1 pr-6",children:[e.jsx("div",{className:"flex justify-between items-start pr-5",children:e.jsxs("div",{className:"flex flex-col gap-0.5 w-11/12 sm:w-full",children:[e.jsx("p",{children:s.length>50?`${s.substring(0,50)}...`:s}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Seller: ",l]})]})}),e.jsxs("div",{className:"flex items-baseline gap-2 text-xl font-medium",children:[e.jsxs("span",{children:["₹",(r*c).toLocaleString()]}),e.jsxs("span",{className:"text-sm text-gray-500 line-through font-normal",children:["₹",(m*c).toLocaleString()]}),e.jsxs("span",{className:"text-sm text-primary-green",children:[L(r,m),"% off"]})]})]})]}),e.jsxs("div",{className:"flex justify-evenly sm:justify-start sm:gap-6",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("span",{className:"w-7 h-7 text-3xl font-light bg-gray-50 rounded-full border flex items-center justify-center cursor-not-allowed",children:e.jsx("p",{children:"-"})}),e.jsx("input",{className:"w-11 border outline-none text-center rounded-sm py-0.5 text-gray-700 font-medium text-sm",value:c,disabled:!0}),e.jsx("span",{className:"w-7 h-7 text-xl font-light bg-gray-50 rounded-full border flex items-center justify-center cursor-not-allowed",children:"+"})]}),e.jsx("button",{onClick:()=>u(a,c),className:"sm:ml-4 font-medium hover:text-primary-blue",children:"MOVE TO CART"}),e.jsx("button",{onClick:()=>h(a),className:"font-medium hover:text-red-600",children:"REMOVE"})]})]},a)},D=()=>{const a=v(),{cartItems:s}=i(t=>t.cart),{saveForLaterItems:l}=i(t=>t.saveForLater),{user:r}=i(t=>t.user),m=()=>{a("/login?redirect=shipping")};return r?e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Shopping Cart | Flipkart"}),e.jsx("main",{className:"w-full mt-20",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3.5 w-full sm:w-11/12 mt-0 sm:mt-4 m-auto sm:mb-7",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col shadow bg-white",children:[e.jsxs("span",{className:"font-medium text-lg px-2 sm:px-8 py-4 border-b",children:["My Cart (",s.length,")"]}),s.length===0?e.jsx(k,{}):s.map((t,n)=>f.createElement(y,{...t,inCart:!0,key:n})),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:m,disabled:s.length<1,className:`w-full sm:w-1/3 mx-2 sm:mx-6 my-4 py-3 font-medium text-white shadow hover:shadow-lg rounded-sm 
                                    ${s.length<1?"bg-primary-grey cursor-not-allowed":"bg-primary-orange"}`,children:"PLACE ORDER"})})]}),e.jsxs("div",{className:"flex flex-col mt-5 shadow bg-white",children:[e.jsxs("span",{className:"font-medium text-lg px-2 sm:px-8 py-4 border-b",children:["Saved For Later (",l.length,")"]}),l.map((t,n)=>f.createElement(F,{...t,key:n}))]})]}),e.jsx(C,{cartItems:s})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[e.jsx("img",{src:"./cart.png"}),e.jsx(p,{to:"/login",className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go to Login"})]})};export{D as default};
